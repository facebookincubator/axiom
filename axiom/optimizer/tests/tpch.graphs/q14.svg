<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.44.0 (0)
 -->
<!-- Title: QueryGraph Pages: 1 -->
<svg width="526pt" height="418pt"
 viewBox="0.00 0.00 526.00 418.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 414)">
<title>QueryGraph</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-414 522,-414 522,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_0</title>
<path fill="white" stroke="#1c2915" stroke-width="3" d="M20,-185C20,-185 498,-185 498,-185 504,-185 510,-191 510,-197 510,-197 510,-390 510,-390 510,-396 504,-402 498,-402 498,-402 20,-402 20,-402 14,-402 8,-396 8,-390 8,-390 8,-197 8,-197 8,-191 14,-185 20,-185"/>
</g>
<!-- dt0_header -->
<g id="node1" class="node">
<title>dt0_header</title>
<polygon fill="#ccd5c4" stroke="transparent" points="17,-375 17,-394 502,-394 502,-375 17,-375"/>
<text text-anchor="start" x="252" y="-383" font-family="Helvetica" font-weight="bold" font-size="10.00" fill="#1c2915">dt1</text>
<text text-anchor="start" x="21" y="-363" font-family="Helvetica" font-size="10.00" fill="#1c2915">promo_revenue := divide(multiply(dt1.sum, 100), dt1.sum_0)</text>
<polygon fill="#ede3d9" stroke="transparent" points="17,-337 17,-356 502,-356 502,-337 17,-337"/>
<text text-anchor="start" x="21" y="-344" font-family="Helvetica" font-size="10.00" fill="#1c2915">AGG:</text>
<polygon fill="#ede3d9" stroke="transparent" points="17,-318 17,-337 502,-337 502,-318 17,-318"/>
<text text-anchor="start" x="21" y="-325" font-family="Helvetica" font-size="10.00" fill="#1c2915"> &#160;&#160;&#160;sum := sum(__switch(like(t3.p_type, &quot;PROMO%&quot;), multiply(t2.l_extendedprice, minus(1, t2.l_discount)), 0))</text>
<polygon fill="#ede3d9" stroke="transparent" points="17,-299 17,-318 502,-318 502,-299 17,-299"/>
<text text-anchor="start" x="21" y="-306" font-family="Helvetica" font-size="10.00" fill="#1c2915"> &#160;&#160;&#160;sum_0 := sum(multiply(t2.l_extendedprice, minus(1, t2.l_discount)))</text>
<polygon fill="#ede3d9" stroke="transparent" points="17,-280 17,-299 502,-299 502,-280 17,-280"/>
<text text-anchor="start" x="21" y="-287" font-family="Helvetica" font-size="10.00" fill="#1c2915">JOIN: 1. t2.l_partkey = t3.p_partkey</text>
</g>
<!-- dt0_t3 -->
<g id="node3" class="node">
<title>dt0_t3</title>
<ellipse fill="#af9d89" stroke="#1c2915" cx="259" cy="-207.5" rx="14.5" ry="14.5"/>
<text text-anchor="middle" x="259" y="-205" font-family="Helvetica" font-size="10.00" fill="#1c2915">t3</text>
</g>
<!-- dt0_header&#45;&gt;dt0_t3 -->
<!-- dt0_t2 -->
<g id="node2" class="node">
<title>dt0_t2</title>
<ellipse fill="#af9d89" stroke="#1c2915" cx="187" cy="-207.5" rx="14.5" ry="14.5"/>
<text text-anchor="middle" x="187" y="-205" font-family="Helvetica" font-size="10.00" fill="#1c2915">t2</text>
</g>
<!-- dt0_t2&#45;&gt;dt0_t3 -->
<g id="edge2" class="edge">
<title>dt0_t2&#45;&gt;dt0_t3</title>
<path fill="none" stroke="#727a6b" stroke-width="2" d="M201.72,-208.1C210.96,-208.37 219.68,-208.27 244.17,-207.79"/>
<text text-anchor="middle" x="214.23" y="-211.03" font-family="Helvetica" font-size="9.00" fill="#1c2915">1</text>
</g>
<!-- node_17 -->
<g id="node4" class="node">
<title>node_17</title>
<polygon fill="#ccd5c4" stroke="transparent" points="187,-114.5 187,-133.5 332,-133.5 332,-114.5 187,-114.5"/>
<text text-anchor="start" x="221.5" y="-122.5" font-family="Helvetica" font-weight="bold" font-size="10.00" fill="#1c2915">t2 (tiny.lineitem)</text>
<text text-anchor="start" x="191" y="-102.5" font-family="Helvetica" font-size="10.00" fill="#1c2915">l_partkey</text>
<text text-anchor="start" x="191" y="-83.5" font-family="Helvetica" font-size="10.00" fill="#1c2915">l_extendedprice</text>
<text text-anchor="start" x="191" y="-64.5" font-family="Helvetica" font-size="10.00" fill="#1c2915">l_discount</text>
<text text-anchor="start" x="191" y="-45.5" font-family="Helvetica" font-size="10.00" fill="#1c2915">l_shipdate</text>
<polygon fill="#ede3d9" stroke="transparent" points="187,-19.5 187,-38.5 332,-38.5 332,-19.5 187,-19.5"/>
<text text-anchor="start" x="191" y="-26.5" font-family="Helvetica" font-size="10.00" fill="#1c2915">gte(t2.l_shipdate, &quot;1995&#45;09&#45;01&quot;)</text>
<polygon fill="#ede3d9" stroke="transparent" points="187,-0.5 187,-19.5 332,-19.5 332,-0.5 187,-0.5"/>
<text text-anchor="start" x="191" y="-7.5" font-family="Helvetica" font-size="10.00" fill="#1c2915">lt(t2.l_shipdate, &quot;1995&#45;10&#45;01&quot;)</text>
<polygon fill="none" stroke="#1c2915" points="185.5,0 185.5,-135 332.5,-135 332.5,0 185.5,0"/>
</g>
<!-- dt0_t3&#45;&gt;node_17 -->
<!-- node_31 -->
<g id="node5" class="node">
<title>node_31</title>
<polygon fill="#ccd5c4" stroke="transparent" points="377,-76.5 377,-95.5 441,-95.5 441,-76.5 377,-76.5"/>
<text text-anchor="start" x="381" y="-84.5" font-family="Helvetica" font-weight="bold" font-size="10.00" fill="#1c2915">t3 (tiny.part)</text>
<text text-anchor="start" x="381" y="-64.5" font-family="Helvetica" font-size="10.00" fill="#1c2915">p_partkey</text>
<text text-anchor="start" x="381" y="-45.5" font-family="Helvetica" font-size="10.00" fill="#1c2915">p_type</text>
<polygon fill="none" stroke="#1c2915" points="376,-38 376,-97 442,-97 442,-38 376,-38"/>
</g>
<!-- node_17&#45;&gt;node_31 -->
</g>
</svg>
