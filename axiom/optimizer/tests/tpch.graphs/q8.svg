<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.44.0 (0)
 -->
<!-- Title: QueryGraph Pages: 1 -->
<svg width="723pt" height="978pt"
 viewBox="0.00 0.00 723.00 978.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 974)">
<title>QueryGraph</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-974 719,-974 719,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_0</title>
<path fill="white" stroke="#1c2915" stroke-width="3" d="M20,-555C20,-555 572,-555 572,-555 578,-555 584,-561 584,-567 584,-567 584,-950 584,-950 584,-956 578,-962 572,-962 572,-962 20,-962 20,-962 14,-962 8,-956 8,-950 8,-950 8,-567 8,-567 8,-561 14,-555 20,-555"/>
</g>
<!-- dt0_header -->
<g id="node1" class="node">
<title>dt0_header</title>
<polygon fill="#ccd5c4" stroke="transparent" points="16,-935 16,-954 576,-954 576,-935 16,-935"/>
<text text-anchor="start" x="288.5" y="-943" font-family="Helvetica" font-weight="bold" font-size="10.00" fill="#1c2915">dt1</text>
<text text-anchor="start" x="20" y="-923" font-family="Helvetica" font-size="10.00" fill="#1c2915">o_year := dt1.o_year</text>
<text text-anchor="start" x="20" y="-904" font-family="Helvetica" font-size="10.00" fill="#1c2915">mkt_share := divide(dt1.sum, dt1.sum_4)</text>
<polygon fill="#ede3d9" stroke="transparent" points="16,-878 16,-897 576,-897 576,-878 16,-878"/>
<text text-anchor="start" x="20" y="-885" font-family="Helvetica" font-size="10.00" fill="#1c2915">GROUP BY: year(t5.o_orderdate)</text>
<polygon fill="#ede3d9" stroke="transparent" points="16,-859 16,-878 576,-878 576,-859 16,-859"/>
<text text-anchor="start" x="20" y="-866" font-family="Helvetica" font-size="10.00" fill="#1c2915">AGG:</text>
<polygon fill="#ede3d9" stroke="transparent" points="16,-840 16,-859 576,-859 576,-840 16,-840"/>
<text text-anchor="start" x="20" y="-847" font-family="Helvetica" font-size="10.00" fill="#1c2915"> &#160;&#160;&#160;sum := sum(__switch(eq(t8.n_name, &quot;BRAZIL&quot;), multiply(t4.l_extendedprice, minus(1, t4.l_discount)), 0))</text>
<polygon fill="#ede3d9" stroke="transparent" points="16,-821 16,-840 576,-840 576,-821 16,-821"/>
<text text-anchor="start" x="20" y="-828" font-family="Helvetica" font-size="10.00" fill="#1c2915"> &#160;&#160;&#160;sum_4 := sum(multiply(t4.l_extendedprice, minus(1, t4.l_discount)))</text>
<polygon fill="#ede3d9" stroke="transparent" points="16,-802 16,-821 576,-821 576,-802 16,-802"/>
<text text-anchor="start" x="20" y="-809" font-family="Helvetica" font-size="10.00" fill="#1c2915">ORDER BY: dt1.o_year ASC NULLS LAST</text>
<polygon fill="#ede3d9" stroke="transparent" points="16,-783 16,-802 576,-802 576,-783 16,-783"/>
<text text-anchor="start" x="20" y="-790" font-family="Helvetica" font-size="10.00" fill="#1c2915">JOIN:</text>
<polygon fill="#ede3d9" stroke="transparent" points="16,-764 16,-783 576,-783 576,-764 16,-764"/>
<text text-anchor="start" x="20" y="-771" font-family="Helvetica" font-size="10.00" fill="#1c2915"> &#160;&#160;&#160;1. t2.p_partkey = t4.l_partkey</text>
<polygon fill="#ede3d9" stroke="transparent" points="16,-745 16,-764 576,-764 576,-745 16,-745"/>
<text text-anchor="start" x="20" y="-752" font-family="Helvetica" font-size="10.00" fill="#1c2915"> &#160;&#160;&#160;2. t3.s_suppkey = t4.l_suppkey</text>
<polygon fill="#ede3d9" stroke="transparent" points="16,-726 16,-745 576,-745 576,-726 16,-726"/>
<text text-anchor="start" x="20" y="-733" font-family="Helvetica" font-size="10.00" fill="#1c2915"> &#160;&#160;&#160;3. t4.l_orderkey = t5.o_orderkey</text>
<polygon fill="#ede3d9" stroke="transparent" points="16,-707 16,-726 576,-726 576,-707 16,-707"/>
<text text-anchor="start" x="20" y="-714" font-family="Helvetica" font-size="10.00" fill="#1c2915"> &#160;&#160;&#160;4. t5.o_custkey = t6.c_custkey</text>
<polygon fill="#ede3d9" stroke="transparent" points="16,-688 16,-707 576,-707 576,-688 16,-688"/>
<text text-anchor="start" x="20" y="-695" font-family="Helvetica" font-size="10.00" fill="#1c2915"> &#160;&#160;&#160;5. t6.c_nationkey = t7.n_nationkey</text>
<polygon fill="#ede3d9" stroke="transparent" points="16,-669 16,-688 576,-688 576,-669 16,-669"/>
<text text-anchor="start" x="20" y="-676" font-family="Helvetica" font-size="10.00" fill="#1c2915"> &#160;&#160;&#160;6. t7.n_regionkey = t9.r_regionkey</text>
<polygon fill="#ede3d9" stroke="transparent" points="16,-650 16,-669 576,-669 576,-650 16,-650"/>
<text text-anchor="start" x="20" y="-657" font-family="Helvetica" font-size="10.00" fill="#1c2915"> &#160;&#160;&#160;7. t3.s_nationkey = t8.n_nationkey</text>
</g>
<!-- dt0_t6 -->
<g id="node6" class="node">
<title>dt0_t6</title>
<ellipse fill="#af9d89" stroke="#1c2915" cx="391" cy="-577.5" rx="14.5" ry="14.5"/>
<text text-anchor="middle" x="391" y="-575" font-family="Helvetica" font-size="10.00" fill="#1c2915">t6</text>
</g>
<!-- dt0_header&#45;&gt;dt0_t6 -->
<!-- dt0_t2 -->
<g id="node2" class="node">
<title>dt0_t2</title>
<ellipse fill="#af9d89" stroke="#1c2915" cx="175" cy="-577.5" rx="14.5" ry="14.5"/>
<text text-anchor="middle" x="175" y="-575" font-family="Helvetica" font-size="10.00" fill="#1c2915">t2</text>
</g>
<!-- dt0_t4 -->
<g id="node4" class="node">
<title>dt0_t4</title>
<ellipse fill="#af9d89" stroke="#1c2915" cx="247" cy="-577.5" rx="14.5" ry="14.5"/>
<text text-anchor="middle" x="247" y="-575" font-family="Helvetica" font-size="10.00" fill="#1c2915">t4</text>
</g>
<!-- dt0_t2&#45;&gt;dt0_t4 -->
<g id="edge2" class="edge">
<title>dt0_t2&#45;&gt;dt0_t4</title>
<path fill="none" stroke="#727a6b" stroke-width="2" d="M189.14,-581.73C199.79,-584.29 207.79,-583.65 232.47,-579.8"/>
<text text-anchor="middle" x="202.54" y="-585.97" font-family="Helvetica" font-size="9.00" fill="#1c2915">1</text>
</g>
<!-- dt0_t3 -->
<g id="node3" class="node">
<title>dt0_t3</title>
<ellipse fill="#af9d89" stroke="#1c2915" cx="31" cy="-577.5" rx="14.5" ry="14.5"/>
<text text-anchor="middle" x="31" y="-575" font-family="Helvetica" font-size="10.00" fill="#1c2915">t3</text>
</g>
<!-- dt0_t3&#45;&gt;dt0_t4 -->
<g id="edge3" class="edge">
<title>dt0_t3&#45;&gt;dt0_t4</title>
<path fill="none" stroke="#727a6b" stroke-width="2" d="M45.15,-580.97C98,-593.76 109.37,-593.16 232.28,-579.18"/>
<text text-anchor="middle" x="115.44" y="-592.91" font-family="Helvetica" font-size="9.00" fill="#1c2915">2</text>
</g>
<!-- dt0_t8 -->
<g id="node8" class="node">
<title>dt0_t8</title>
<ellipse fill="#af9d89" stroke="#1c2915" cx="103" cy="-577.5" rx="14.5" ry="14.5"/>
<text text-anchor="middle" x="103" y="-575" font-family="Helvetica" font-size="10.00" fill="#1c2915">t8</text>
</g>
<!-- dt0_t3&#45;&gt;dt0_t8 -->
<g id="edge8" class="edge">
<title>dt0_t3&#45;&gt;dt0_t8</title>
<path fill="none" stroke="#727a6b" stroke-width="2" d="M45.39,-580.06C55.09,-581.34 63.57,-580.91 88.42,-578.77"/>
<text text-anchor="middle" x="58.22" y="-583.5" font-family="Helvetica" font-size="9.00" fill="#1c2915">7</text>
</g>
<!-- dt0_t5 -->
<g id="node5" class="node">
<title>dt0_t5</title>
<ellipse fill="#af9d89" stroke="#1c2915" cx="319" cy="-577.5" rx="14.5" ry="14.5"/>
<text text-anchor="middle" x="319" y="-575" font-family="Helvetica" font-size="10.00" fill="#1c2915">t5</text>
</g>
<!-- dt0_t4&#45;&gt;dt0_t5 -->
<g id="edge4" class="edge">
<title>dt0_t4&#45;&gt;dt0_t5</title>
<path fill="none" stroke="#727a6b" stroke-width="2" d="M260.7,-582.95C273.58,-587.46 280.78,-586.82 304.79,-581.01"/>
<text text-anchor="middle" x="275.57" y="-588.65" font-family="Helvetica" font-size="9.00" fill="#1c2915">3</text>
</g>
<!-- dt0_t5&#45;&gt;dt0_t6 -->
<g id="edge5" class="edge">
<title>dt0_t5&#45;&gt;dt0_t6</title>
<path fill="none" stroke="#727a6b" stroke-width="2" d="M332.74,-582.96C351.6,-590.13 357.96,-590.07 377.41,-582.79"/>
<text text-anchor="middle" x="351.85" y="-591.1" font-family="Helvetica" font-size="9.00" fill="#1c2915">4</text>
</g>
<!-- dt0_t7 -->
<g id="node7" class="node">
<title>dt0_t7</title>
<ellipse fill="#af9d89" stroke="#1c2915" cx="463" cy="-577.5" rx="14.5" ry="14.5"/>
<text text-anchor="middle" x="463" y="-575" font-family="Helvetica" font-size="10.00" fill="#1c2915">t7</text>
</g>
<!-- dt0_t6&#45;&gt;dt0_t7 -->
<g id="edge6" class="edge">
<title>dt0_t6&#45;&gt;dt0_t7</title>
<path fill="none" stroke="#727a6b" stroke-width="2" d="M405.38,-581.18C429.1,-587.11 436.22,-587.72 449.35,-583.01"/>
<text text-anchor="middle" x="428.34" y="-588.88" font-family="Helvetica" font-size="9.00" fill="#1c2915">5</text>
</g>
<!-- node_10 -->
<g id="node10" class="node">
<title>node_10</title>
<polygon fill="#ccd5c4" stroke="transparent" points="282,-485 282,-504 501,-504 501,-485 282,-485"/>
<text text-anchor="start" x="363.5" y="-493" font-family="Helvetica" font-weight="bold" font-size="10.00" fill="#1c2915">t2 (tiny.part)</text>
<text text-anchor="start" x="286" y="-473" font-family="Helvetica" font-size="10.00" fill="#1c2915">p_partkey</text>
<text text-anchor="start" x="286" y="-454" font-family="Helvetica" font-size="10.00" fill="#1c2915">p_type</text>
<polygon fill="#ede3d9" stroke="transparent" points="282,-428 282,-447 501,-447 501,-428 282,-428"/>
<text text-anchor="start" x="286" y="-435" font-family="Helvetica" font-size="10.00" fill="#1c2915">eq(t2.p_type, &quot;ECONOMY ANODIZED STEEL&quot;)</text>
<polygon fill="none" stroke="#1c2915" points="280.5,-427 280.5,-505 501.5,-505 501.5,-427 280.5,-427"/>
</g>
<!-- dt0_t6&#45;&gt;node_10 -->
<!-- dt0_t9 -->
<g id="node9" class="node">
<title>dt0_t9</title>
<ellipse fill="#af9d89" stroke="#1c2915" cx="535" cy="-577.5" rx="14.5" ry="14.5"/>
<text text-anchor="middle" x="535" y="-575" font-family="Helvetica" font-size="10.00" fill="#1c2915">t9</text>
</g>
<!-- dt0_t7&#45;&gt;dt0_t9 -->
<g id="edge7" class="edge">
<title>dt0_t7&#45;&gt;dt0_t9</title>
<path fill="none" stroke="#727a6b" stroke-width="2" d="M477.59,-579.87C502.39,-583.84 510.27,-584.47 521.12,-581.76"/>
<text text-anchor="middle" x="501.59" y="-586.12" font-family="Helvetica" font-size="9.00" fill="#1c2915">6</text>
</g>
<!-- node_20 -->
<g id="node11" class="node">
<title>node_20</title>
<polygon fill="#ccd5c4" stroke="transparent" points="546,-475 546,-494 630,-494 630,-475 546,-475"/>
<text text-anchor="start" x="550" y="-483" font-family="Helvetica" font-weight="bold" font-size="10.00" fill="#1c2915">t3 (tiny.supplier)</text>
<text text-anchor="start" x="550" y="-463" font-family="Helvetica" font-size="10.00" fill="#1c2915">s_suppkey</text>
<text text-anchor="start" x="550" y="-444" font-family="Helvetica" font-size="10.00" fill="#1c2915">s_nationkey</text>
<polygon fill="none" stroke="#1c2915" points="545,-436.5 545,-495.5 631,-495.5 631,-436.5 545,-436.5"/>
</g>
<!-- node_10&#45;&gt;node_20 -->
<!-- node_39 -->
<g id="node12" class="node">
<title>node_39</title>
<polygon fill="#ccd5c4" stroke="transparent" points="349,-349 349,-368 433,-368 433,-349 349,-349"/>
<text text-anchor="start" x="353" y="-357" font-family="Helvetica" font-weight="bold" font-size="10.00" fill="#1c2915">t4 (tiny.lineitem)</text>
<text text-anchor="start" x="353" y="-337" font-family="Helvetica" font-size="10.00" fill="#1c2915">l_orderkey</text>
<text text-anchor="start" x="353" y="-318" font-family="Helvetica" font-size="10.00" fill="#1c2915">l_partkey</text>
<text text-anchor="start" x="353" y="-299" font-family="Helvetica" font-size="10.00" fill="#1c2915">l_suppkey</text>
<text text-anchor="start" x="353" y="-280" font-family="Helvetica" font-size="10.00" fill="#1c2915">l_extendedprice</text>
<text text-anchor="start" x="353" y="-261" font-family="Helvetica" font-size="10.00" fill="#1c2915">l_discount</text>
<polygon fill="none" stroke="#1c2915" points="348,-253 348,-369 434,-369 434,-253 348,-253"/>
</g>
<!-- node_10&#45;&gt;node_39 -->
<!-- node_54 -->
<g id="node13" class="node">
<title>node_54</title>
<polygon fill="#ccd5c4" stroke="transparent" points="478,-339 478,-358 714,-358 714,-339 478,-339"/>
<text text-anchor="start" x="562" y="-347" font-family="Helvetica" font-weight="bold" font-size="10.00" fill="#1c2915">t5 (tiny.orders)</text>
<text text-anchor="start" x="482" y="-327" font-family="Helvetica" font-size="10.00" fill="#1c2915">o_orderkey</text>
<text text-anchor="start" x="482" y="-308" font-family="Helvetica" font-size="10.00" fill="#1c2915">o_custkey</text>
<text text-anchor="start" x="482" y="-289" font-family="Helvetica" font-size="10.00" fill="#1c2915">o_orderdate</text>
<polygon fill="#ede3d9" stroke="transparent" points="478,-263 478,-282 714,-282 714,-263 478,-263"/>
<text text-anchor="start" x="482" y="-270" font-family="Helvetica" font-size="10.00" fill="#1c2915">between(t5.o_orderdate, &quot;1995&#45;01&#45;01&quot;, &quot;1996&#45;12&#45;31&quot;)</text>
<polygon fill="none" stroke="#1c2915" points="477,-262.5 477,-359.5 715,-359.5 715,-262.5 477,-262.5"/>
</g>
<!-- node_39&#45;&gt;node_54 -->
<!-- node_66 -->
<g id="node14" class="node">
<title>node_66</title>
<polygon fill="#ccd5c4" stroke="transparent" points="346,-174.5 346,-193.5 436,-193.5 436,-174.5 346,-174.5"/>
<text text-anchor="start" x="350" y="-182.5" font-family="Helvetica" font-weight="bold" font-size="10.00" fill="#1c2915">t6 (tiny.customer)</text>
<text text-anchor="start" x="350" y="-162.5" font-family="Helvetica" font-size="10.00" fill="#1c2915">c_custkey</text>
<text text-anchor="start" x="350" y="-143.5" font-family="Helvetica" font-size="10.00" fill="#1c2915">c_nationkey</text>
<polygon fill="none" stroke="#1c2915" points="345,-136 345,-195 437,-195 437,-136 345,-136"/>
</g>
<!-- node_39&#45;&gt;node_66 -->
<!-- node_73 -->
<g id="node15" class="node">
<title>node_73</title>
<polygon fill="#ccd5c4" stroke="transparent" points="482,-174.5 482,-193.5 557,-193.5 557,-174.5 482,-174.5"/>
<text text-anchor="start" x="486" y="-182.5" font-family="Helvetica" font-weight="bold" font-size="10.00" fill="#1c2915">t7 (tiny.nation)</text>
<text text-anchor="start" x="486" y="-162.5" font-family="Helvetica" font-size="10.00" fill="#1c2915">n_nationkey</text>
<text text-anchor="start" x="486" y="-143.5" font-family="Helvetica" font-size="10.00" fill="#1c2915">n_regionkey</text>
<polygon fill="none" stroke="#1c2915" points="480.5,-136 480.5,-195 557.5,-195 557.5,-136 480.5,-136"/>
</g>
<!-- node_66&#45;&gt;node_73 -->
<!-- node_76 -->
<g id="node16" class="node">
<title>node_76</title>
<polygon fill="#ccd5c4" stroke="transparent" points="354,-48 354,-67 429,-67 429,-48 354,-48"/>
<text text-anchor="start" x="358" y="-56" font-family="Helvetica" font-weight="bold" font-size="10.00" fill="#1c2915">t8 (tiny.nation)</text>
<text text-anchor="start" x="358" y="-36" font-family="Helvetica" font-size="10.00" fill="#1c2915">n_nationkey</text>
<text text-anchor="start" x="358" y="-17" font-family="Helvetica" font-size="10.00" fill="#1c2915">n_name</text>
<polygon fill="none" stroke="#1c2915" points="352.5,-9.5 352.5,-68.5 429.5,-68.5 429.5,-9.5 352.5,-9.5"/>
</g>
<!-- node_66&#45;&gt;node_76 -->
<!-- node_82 -->
<g id="node17" class="node">
<title>node_82</title>
<polygon fill="#ccd5c4" stroke="transparent" points="474,-58 474,-77 601,-77 601,-58 474,-58"/>
<text text-anchor="start" x="503.5" y="-66" font-family="Helvetica" font-weight="bold" font-size="10.00" fill="#1c2915">t9 (tiny.region)</text>
<text text-anchor="start" x="478" y="-46" font-family="Helvetica" font-size="10.00" fill="#1c2915">r_regionkey</text>
<text text-anchor="start" x="478" y="-27" font-family="Helvetica" font-size="10.00" fill="#1c2915">r_name</text>
<polygon fill="#ede3d9" stroke="transparent" points="474,-1 474,-20 601,-20 601,-1 474,-1"/>
<text text-anchor="start" x="478" y="-8" font-family="Helvetica" font-size="10.00" fill="#1c2915">eq(t9.r_name, &quot;AMERICA&quot;)</text>
<polygon fill="none" stroke="#1c2915" points="472.5,0 472.5,-78 601.5,-78 601.5,0 472.5,0"/>
</g>
<!-- node_76&#45;&gt;node_82 -->
</g>
</svg>
